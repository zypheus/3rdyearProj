---
description: Deploying Laravel apps to hosting providers
globs: 
alwaysApply: false
---
# 8. Deployment (Shared Hosting & Cloud Platforms)

This document outlines the steps to deploy the Laravel application to various hosting providers.

## 1. Prerequisites

Before deploying, ensure the following prerequisites are met:

*   **Hosting Account:** Choose a hosting provider (InfinityFree, 000WebHost, Heroku, DigitalOcean, AWS, etc.).
*   **FTP/SSH Access:** Obtain FTP or SSH credentials from your hosting provider.
*   **Composer:** Ensure Composer is installed on your local machine for dependency management.
*   **Git (Optional):** Use Git for version control and easier deployments.

## 2. Deployment Steps (Shared Hosting)

### Step 1: Prepare the Application

1.  **Install Dependencies:**
    ```bash
    composer install --no-dev
    ```

2.  **Generate Application Key:**
    ```bash
    php artisan key:generate
    ```

3.  **Create `.env` File:**
    *   Copy `.env.example` to `.env`
    *   Update database credentials and other environment variables
    *   Set `APP_ENV=production` and `APP_DEBUG=false`

### Step 2: Upload Files

1.  **Using FTP:**
    *   Connect to your hosting server via FTP client (FileZilla, WinSCP, etc.)
    *   Upload all project files to the public_html or www directory
    *   Ensure `public/` directory is set as the document root

2.  **Using Git (If Supported):**
    ```bash
    git clone <your-repo-url> <destination>
    cd <destination>
    composer install --no-dev
    ```

### Step 3: Configure Server

1.  **Set Permissions:**
    *   Make `storage/` and `bootstrap/cache/` writable: `chmod -R 775 storage bootstrap/cache`

2.  **Create Database:**
    *   Create a new MySQL database via hosting control panel
    *   Note the database name, username, and password

3.  **Update `.env` File:**
    ```
    DB_CONNECTION=mysql
    DB_HOST=localhost
    DB_PORT=3306
    DB_DATABASE=your_database_name
    DB_USERNAME=your_db_username
    DB_PASSWORD=your_db_password
    ```

### Step 4: Run Migrations

1.  **Via SSH (If Available):**
    ```bash
    php artisan migrate --force
    ```

2.  **Via Artisan Tinker (If SSH Not Available):**
    *   Create a route temporarily to run migrations
    *   Or use a migration runner package

### Step 5: Set Up SSL

*   Most hosting providers offer free SSL certificates (Let's Encrypt)
*   Enable HTTPS in your hosting control panel
*   Update `APP_URL` in `.env` to use `https://`

## 3. Post-Deployment

*   **Verify Installation:**
    *   Visit your application URL in a browser
    *   Check that pages load correctly
    *   Test login and core functionality

*   **Monitor Logs:**
    *   Check `storage/logs/laravel.log` for errors
    *   Monitor server logs via hosting control panel

*   **Set Up Cron Job (For Scheduled Tasks):**
    *   Add to crontab: `* * * * * cd /path-to-project && php artisan schedule:run >> /dev/null 2>&1`

*   **Setting Environment Variables:**
    *   Update `.env` file on server for sensitive data (API keys, etc.)
    *   Never commit `.env` to version control

## 4. Troubleshooting

*   **500 Error:** Check `storage/logs/laravel.log` for detailed error messages.
*   **Database Connection Error:** Verify database credentials in `.env` and that database server is running.
*   **Permission Denied:** Ensure `storage/` and `bootstrap/cache/` directories are writable.
*   **Blank Page:** Enable `APP_DEBUG=true` temporarily to see error details (disable in production).
*   **Migrations Failed:** Run `php artisan migrate:reset` and retry (development only). 